function dowmdiv(){document.body.scrollHeight>window.innerHeight?($("#bottom-outer").css({position:"relative"}),$("#top-button").css({display:"block"})):($(".up").css({display:"none"}),$("#bottom-outer").css({position:"absolute",bottom:0,left:0}))}NProgress.start(),NProgress.done(),function(){window.onload=function(){$(".progress").animate({opacity:0}),$("body").css({"overflow-x":"auto"})},$(".post-fix").animate({opacity:0},1e3),setTimeout(function(){$(".progress").animate({opacity:0}).css({display:"none"})},1e3)}(),$(function(){$(".lazy").lazyload({effect:"fadeIn"})}),function(){var t=$("body").width();t<=768?$(function(){function n(){var n=0,o=(t-250)/2+"px";$(".friends-link").each(function(){var t=$(this),e=200*n;n++,setTimeout(function(){t.animate({"margin-left":o,opacity:1},300)},e)})}$(document).on("pjax:end",function(){n()}),window.onload=n()}):$(function(){function t(){var t=0;$(".friends-link").each(function(){var n=$(this);t++;var o=200*t;setTimeout(function(){n.animate({"margin-left":"150px",opacity:1},300)},o)})}$(document).on("pjax:end",function(){t()}),window.onload=t()})}(),function(){$(".button-collapse").sideNav({menuWidth:250,edge:"left",closeOnClick:!1,draggable:!0}),$(document).on("pjax:end",function(){$(".button-collapse").sideNav("hide")})}(),function(){$(".dropdown-btn").click(function(){"none"==$(this).next().css("display")?($(this).next().slideDown(),$(this).find(".dropdown-ico").rotate({animateTo:180})):($(this).next().slideUp(),$(this).find(".dropdown-ico").rotate({animateTo:0}))})}(),function(){$("#top-button").click(function(){$("html,body").animate({scrollTop:0},500)})}(),function(){document.body.scrollHeight>window.innerHeight?($("#bottom-outer").css({position:"relative"}),$("#top-button").css({display:"block"})):($(".up").css({display:"none"}),$("#bottom-outer").css({position:"absolute",bottom:0,left:0}))}();var searchFunc=function(t,n,o){"use strict";$.ajax({url:t,dataType:"xml",success:function(t){var e=$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get(),i=document.getElementById(n),c=document.getElementById(o);i.addEventListener("input",function(){var t='<ul class="search-result-list">',n=this.value.trim().toLowerCase().split(/[\s\-]+/);c.innerHTML="",this.value.trim().length<=0||(e.forEach(function(o){var e=!0,i=o.title.trim().toLowerCase(),c=o.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),a=o.url,s=-1,r=-1,u=-1;if(""!=i&&""!=c&&n.forEach(function(t,n){s=i.indexOf(t),r=c.indexOf(t),s<0&&r<0?e=!1:(r<0&&(r=0),0==n&&(u=r))}),e){t+="<li><a href='"+a+"' class='search-result-title' target='_blank'>"+i;var l=o.content.trim().replace(/<[^>]+>/g,"");if(u>=0){var d=u-6,f=u+6;d<0&&(d=0),0==d&&(f=10),f>l.length&&(f=l.length);var p=l.substr(d,f);n.forEach(function(t){var n=new RegExp(t,"gi");p=p.replace(n,'<em class="search-keyword">'+t+"</em>")}),t+='<p class="search-result">'+p+"...</p></a>"}}}),c.innerHTML=t)})}})},inputArea=document.querySelector("#local-search-input"),getSearchFile=function(){searchFunc("/search.xml","local-search-input","local-search-result")};inputArea.onfocus=function(){getSearchFile()},inputArea.onkeydown=function(){if(13==event.keyCode)return!1},$("#local-search-result").bind("DOMNodeRemoved DOMNodeInserted",function(t){$(t.target).text()?$(".no-result").hide():$(".no-result").show()}),function(t){t.fn.exist=function(){return t(this).length>=1}}(jQuery),function(){$(".post-toc-btn").click(function(){$(".post-toc").exist()?$(".post-toc-box").fadeToggle():$(".post-toc-none").fadeToggle()})}(),function(){var t=$("html, body");$(".post-toc-link").click(function(){return t.animate({scrollTop:$($.attr(this,"href")).offset().top},500),!1})}(),function(){var t=$(".post-author-link");$(".post-author-button").click(function(){"none"===t.css("display")?t.css({display:"block"}).animate({right:"60px",opacity:1},500):(t.animate({opacity:0},500),setTimeout(function(){t.css({display:"none",right:"100px"})},500))})}();var throttle=function(t,n,o){var e=null,i=null;return function(){var c=+new Date;i||(i=c),o&&c-i>o?(t(),i=c,clearTimeout(e)):(clearTimeout(e),e=setTimeout(function(){t(),i=null},n))}};!function(){var t=$(".up");window.onscroll=function(){var n=$(window).scrollTop(),o=$(window).height(),e=$(document).height()-n-o;n>=o-80?(e<=90?(t.removeClass("upinbody"),t.addClass("upinfoot")):(t.removeClass("upinfoot"),t.addClass("upinbody")),t.fadeIn(500)):n<=o-80&&t.fadeOut(500)}}();